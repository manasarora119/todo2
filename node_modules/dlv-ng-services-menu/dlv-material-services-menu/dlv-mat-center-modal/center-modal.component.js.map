{"version":3,"file":"center-modal.component.js","sourceRoot":"","sources":["../../../tmp/src-inlined/dlv-material-services-menu/dlv-mat-center-modal/center-modal.component.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAU,KAAK,EAAE,MAAM,EAAE,YAAY,EAAE,MAAM,eAAe,CAAC;AAC/E,OAAO,EAAE,cAAc,EAAE,gBAAgB,EAAE,cAAc,EAAE,MAAM,oBAAoB,CAAA;AAyBrF;IAYI,oCAAoB,aAAgC,EAAU,OAAwB,EAAU,WAA4B;QAAxG,kBAAa,GAAb,aAAa,CAAmB;QAAU,YAAO,GAAP,OAAO,CAAiB;QAAU,gBAAW,GAAX,WAAW,CAAiB;QATlH,mBAAc,GAAuB,IAAI,YAAY,EAAO,CAAC;QAG/D,WAAM,GAAG;YACb,WAAW,EAAG,EAAE;YAChB,WAAW,EAAG,EAAE;SACnB,CAAA;QAIG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,aAAa,CAAC,CAAC;QACxD,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC,yBAAyB,CAAC,CAAC;IACjF,CAAC;IAED,6CAAQ,GAAR;QACI,IAAG,CAAC,IAAI,CAAC,WAAW,EAAC;YACjB,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAE,CAAC;SACtE;IACL,CAAC;IACD,GAAG;IACH;;;OAGG;IAEI,sDAAiB,GAAxB;QACI,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;QAElB,yIAAyI;QACzI,IAAG,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,KAAK,CAAC,EAAC;YACpD,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,CAAC;SACjE;QAED,iIAAiI;aAC5H,IAAG,CAAC,IAAI,CAAC,WAAW,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,EAAC;YACpD,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;SAC1C;IACL,CAAC;IAED;;;;OAIG;IAEI,mDAAc,GAArB,UAAsB,MAAM;QACxB,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,MAAM,CAAC,CAAC;QAC/C,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAA,2BAA2B;IAChE,CAAC;IAnDQ;QAAR,KAAK,EAAE;;4DAAgB;IACf;QAAR,KAAK,EAAE;;mEAAuB;IACrB;QAAT,MAAM,EAAE;kCAAkB,YAAY;sEAAgC;IAH9D,0BAA0B;QAtBtC,SAAS,CAAC;YACT,QAAQ,EAAE,sBAAsB;YAChC,QAAQ,EAAE,+rBAeT;YACD,MAAM,EAAE,CAAC,g9GAER,CAAC;SACH,CAAC;yCAasC,gBAAgB,EAAoB,cAAc,EAAwB,cAAc;OAZnH,0BAA0B,CAqDtC;IAAD,iCAAC;CAAA,AArDD,IAqDC;SArDY,0BAA0B","sourcesContent":["import { Component, OnInit, Input, Output, EventEmitter } from '@angular/core';\nimport { CookiesService, MatCenterService, MatMenuService } from '../shared/services'\nimport { debug } from 'util';\n\n@Component({\n  selector: 'dlv-mat-center-modal',\n  template: `\n    <div class=\"searchCenterModal\" *ngIf=\"open\">\n        <div class=\"center-modal-overlay\"></div>\n        <div class=\"center-modal-body\">\n            <div class=\"center-modal-header\">\n                <h3>Select Center</h3>\n            </div>\n            <div class=\"center-modal-content\">\n                <dlv-mat-auto-complete-center placeholder=\"Search Center\" (onCenterChange)=\"onCenterSelect($event)\"></dlv-mat-auto-complete-center>\n            </div>\n            <div class=\"center-modal-footer\" *ngIf=\"showCloseBtn\">\n                <button class=\"center-button\" (click)=\"closeSearchCenter()\">Close</button>\n            </div>\n        </div>\n    </div>\n  `,\n  styles: [`\n    .centerName{text-align:center}.centerName span{cursor:pointer}.searchCenterModal{position:fixed;top:0;left:0;width:100%;height:100%;z-index:100}.searchCenterModal .center-modal-overlay{position:absolute;top:0;left:0;background:rgba(0,0,0,0.6);width:100%;height:100%}.searchCenterModal .center-modal-body{padding:10px 20px;overflow:auto;position:relative;background:#fff;margin:12% auto;width:25vw;min-height:175px;color:#333;border:none;border-radius:3px}.searchCenterModal .center-modal-body .center-modal-header{text-align:center;padding:0px !important;color:#515356;margin-bottom:10px}.searchCenterModal .center-modal-body .center-modal-header h3{padding:0 0 5px;margin:0}.searchCenterModal .center-modal-body .center-modal-content{box-shadow:none;position:relative;box-shadow:none;padding-bottom:40px;overflow-x:hidden}.searchCenterModal .center-modal-body .center-modal-content .center-form-search{position:relative}.searchCenterModal .center-modal-body .center-modal-content .center-form-search span{position:absolute;right:8px;top:8px;color:#808080}.searchCenterModal .center-modal-body .center-modal-content .search-center{width:calc(100% - 10px);padding:3px 5px;border:none;box-shadow:none !important;border-radius:0;border-bottom:1px solid #a6a6a6;font-size:12px;line-height:21px;color:#414042;margin-bottom:10px;background:transparent}.searchCenterModal .center-modal-body .center-modal-content .search-center:focus{border-color:red;outline:none;box-shadow:none}.searchCenterModal .center-modal-body .center-modal-content .center-list{margin:0 0;border-radius:1px;font-size:12px;color:#414042;background:#ffffff;padding:0;margin:0;max-height:140px;text-align:left;overflow-y:auto;width:100%}.searchCenterModal .center-modal-body .center-modal-content .center-list .center-name-list{list-style:none;margin-bottom:4px;width:calc(100% - 10px);cursor:pointer;font-size:14px;padding:4px 5px;display:block;border-bottom:1px dashed #cccccc;transition:all 0.3s linear}.searchCenterModal .center-modal-body .center-modal-content .center-list .center-name-list:hover{background:#ececec}.searchCenterModal .center-modal-body .center-modal-content .single-center{font-size:15px;text-align:center;margin:18% 0}.searchCenterModal .center-modal-body .center-modal-content .single-center .single-center-name{font-size:18px;margin-top:10px;display:block}.searchCenterModal .center-modal-body .center-modal-content .no-center{font-size:16px;text-align:center;margin:22% 0}.searchCenterModal .center-modal-body .center-modal-content .no-result{text-align:center}.searchCenterModal .center-modal-body .center-modal-footer{border:none;position:absolute;width:calc(100% - 40px);bottom:15px;padding:3px 20px;padding-top:10px;left:0;background:#fff;margin-bottom:-7px;box-shadow:-1px -10px 14px #e4e4e4}.searchCenterModal .center-modal-body .center-modal-footer .center-button{float:right;background:#F0503C;border:1px solid #F0503C;color:#FFFFFF;font-family:OpenSans-Semibold;letter-spacing:1.2px;cursor:pointer;border-radius:3px;font-size:13px;line-height:16px;outline:none;padding:4px 20px;transition:all 0.1s ease 0.1s;word-spacing:3px;text-transform:uppercase}.loading-centers{background:#BDBDBD;position:absolute;width:100%;height:100%}.loading-centers .status{top:40%;text-align:center;position:relative}@media (max-width: 1024px){.searchCenterModal .center-modal-body{width:35%}}@media (max-width: 900px){.searchCenterModal .center-modal-body{width:45%}}@media (max-width: 640px){.searchCenterModal .center-modal-body{width:80%}}\n  `]\n})\nexport class DlvMatCenterModalComponent implements OnInit {\n    @Input() open : boolean;\n    @Input() isAllCenter : boolean;\n    @Output() onCenterChange : EventEmitter<any> = new EventEmitter<any>();\n\n    private env : string;\n    private center = {\n        center_name : \"\",\n        center_code : \"\"\n    }\n    private showCloseBtn : boolean;\n    private centerDetails;\n    constructor(private centerService : MatCenterService, private cookies : CookiesService, private menuService : MatMenuService) { \n        this.env = this.menuService.getOptions()['environment'];\n        this.showCloseBtn = this.menuService.getOptions()['showCloseCenterModalBtn'];\n    }\n\n    ngOnInit() {\n        if(!this.isAllCenter){\n            this.centerDetails = this.centerService.constructingCenterObject();\n        }\n    }\n    // \n    /**\n     * @name closeSearchCenter\n     * @description This method is using to close center search modal after select center from modal \n     */\n\n    public closeSearchCenter(){\n        this.open = false;\n\n        //This condition checking if there is only 1 center mapped externally then it will not call the api and call processSelectCenter function\n        if(!this.isAllCenter && this.centerDetails.length === 1){\n            this.centerService.processSelectCenter(this.centerDetails[0]);\n        } \n        \n        //If data is coming through api means there is no center selected yet then it will show the search modal and call setCheckModel()\n        else if(!this.isAllCenter && !this.centerDetails.length){\n            this.centerService.setCheckModel(true);\n        } \n    }\n    \n    /**\n     * @name onCenterSelect\n     * @description this function works after select center from search box in modal page, store result in cookie \n     * @param center : It is storing center code and center name\n     */\n\n    public onCenterSelect(center){\n        this.centerService.processSelectCenter(center);\n        this.closeSearchCenter();\n        this.onCenterChange.emit(center);// Emit the selected center\n    }  \n}\n\n\n\n  \n"]}