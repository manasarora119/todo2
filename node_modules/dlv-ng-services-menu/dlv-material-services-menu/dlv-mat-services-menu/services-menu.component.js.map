{"version":3,"file":"services-menu.component.js","sourceRoot":"","sources":["../../../tmp/src-inlined/dlv-material-services-menu/dlv-mat-services-menu/services-menu.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, AfterViewChecked, OnChanges, Input, Output, EventEmitter, ChangeDetectorRef, DoCheck, ChangeDetectionStrategy, ViewChild } from '@angular/core';\nimport { AuthService } from 'dlv-ng-auth';\nimport { MatMenuService, MatCenterService, PermissionService, CookiesService } from '../shared/services';\nimport { DlvMatAutoCompleteComponent } from '../dlv-mat-auto-complete-center/auto-complete.component';\n\nimport { Observable } from 'rxjs/Observable';\n\nimport { menuConfiguration } from '../shared/interfaces';\n\nimport 'rxjs/add/operator/catch';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/toPromise';\nimport 'rxjs/add/observable/throw';\nimport { Subject } from 'rxjs';\n\n@Component({\n  changeDetection: ChangeDetectionStrategy.Default,\n  selector: 'dlv-mat-services-menu',\n  template: `\n    <dlv-mat-error-alert [errorMsg]=\"errors\" *ngIf=\"errors.length\"></dlv-mat-error-alert>\n    <div class=\"row service-menu-section\" *ngIf=\"options.showServices || options.showWaybill || options.showCenter\" [ngClass]=\"styles\">\n        <div class=\"service-menu-inner\">\n            <div class=\"service-menu\" *ngIf=\"options.showServices\">\n                <div class=\"child-section\" (clickOutside)=\"closeServiceMenu($event)\">\n                    <p class=\"service-menu-overlay\" [ngClass]=\"{'open' : showOverlay}\">\n                         <span (click)=\"openOverlay()\" class=\"material-icons serviceBtn dlv-icon\" [class.hide]=\"isServiceLoader\">\n                            apps \n                        </span>\n                        <span class=\"line-spinner\" [hidden]=\"!isServiceLoader\"></span>\n                    </p>\n                    <dlv-mat-services-menu-overlay *ngIf=\"checkLength(profile)\" [open]=\"showOverlay\" [profile]=\"profile\" (onError)=\"showError($event)\"></dlv-mat-services-menu-overlay>\n                </div>\n            </div>\n\n            <div class=\"waybill-search\" *ngIf=\"options.showWaybill\">\n                <dlv-mat-waybill-search [placeHolder]=\"searchPlaceholder\"></dlv-mat-waybill-search>\n            </div>\n\n            <div class=\"selected-center\" *ngIf=\"options.showCenter\">\n                <div class=\"child-section\" (clickOutside)=\"closeCenterDrop($event)\">\n                    <p class=\"centerName clearfix\">\n                        <!-- <span class=\"label\">Selected Center : {{ options.showCenter }}</span> -->\n                        <span class=\"centerName-cont\" *ngIf=\"centerName\">\n                            <p class=\"name\">{{centerName}} &nbsp;</p>\n                            <i class=\"material-icons select-dropdown\" (click)=\"openSearchDropdown()\" *ngIf=\"!isAllCenter && centerIDArray.length > 1\">expand_more</i>\n                            <i class=\"material-icons select-dropdown\" (click)=\"openSearchDropdown()\" *ngIf=\"isAllCenter\">expand_more</i>\n                        </span>\n                        <span *ngIf=\"!isAllCenter && centerLoader && !centerName\" (click)=\"openSearchDropdown()\" class=\"centerName-cont\">\n                           <p class=\"name\"> No Center Mapped&nbsp;</p>\n                            <i class=\"material-icons select-dropdown\" *ngIf=\"centerIDArray.length > 1\">expand_more</i>\n                        </span>\n                        <span *ngIf=\"isAllCenter && centerLoader && !centerName\" (click)=\"openSearchDropdown()\" class=\"centerName-cont\">\n                           <p class=\"name\"> No Center Mapped&nbsp;</p>\n                            <i class=\"material-icons select-dropdown\">expand_more</i>\n                        </span>\n                        <span class=\"line-spinner\" *ngIf=\"!centerLoader\"></span> \n                    </p>\n                    <div class=\"select-drop-down\">\n                        <dlv-mat-selected-center *ngIf=\"isAllCenter || centerIDArray.length > 1\" [isAllCenter]=\"isAllCenter\" [open]=\"openCenters\" (closeDropdown)=\"closeDropdown($event)\" (onCenterChange)=\"centerChange($event)\"></dlv-mat-selected-center>\n                    </div>\n                    <!-- <div>\n                        <dlv-mat-center-modal *ngIf=\"loadModal\" [isAllCenter]=\"isAllCenter\" [open]=\"loadModal\" (onCenterChange)=\"centerChange($event)\"></dlv-mat-center-modal>\n                    </div> -->\n                </div>\n            </div>\n        </div>\n        <div class=\"service-menu-mobile\">\n            <ul class=\"sm-icons\">\n                <li class=\"sm-search\" *ngIf=\"options.showWaybill\">\n                     <button class=\"dlv-icon\" mat-icon-button (click)=\"searchWaybill()\" [class.active]=\"showWaybill\">\n                        <mat-icon>search</mat-icon>\n                    </button>\n                </li>\n                <li class=\"sm-center\" *ngIf=\"options.showCenter\" >\n                    <span class=\"line-spinner mob-center\" *ngIf=\"!centerLoader\"></span> \n                     <button class=\"dlv-icon\" mat-icon-button (click)=\"searchCenterMob()\" [class.active]=\"showCenter\" *ngIf=\"centerLoader\">\n                    <mat-icon>store_mall_directory</mat-icon>\n                    </button>\n                </li>\n                <li class=\"sm-more\" *ngIf=\"isMobServicesHidden || options.showNotifications\">\n                    <mat-menu #appMenu=\"matMenu\">\n                    <button mat-menu-item [class.hide]=\"isServiceLoader\" *ngIf=\"options.showServices && isMobServicesHidden\" (click)=\"openMobOverlay()\">Menu</button>\n                    <button mat-menu-item  *ngIf=\"options.showNotifications\">Notification</button>\n                    </mat-menu>\n\n                    <button mat-icon-button [matMenuTriggerFor]=\"appMenu\" class=\"dlv-icon\">\n                    <mat-icon (click)=\"moreOptions()\">more_vert</mat-icon>\n                    </button>\n                </li>\n            </ul>\n        </div>\n        <div class=\"mob-dropdown\">\n        <div class=\"waybill-menu-mob\" [class.showWaybill]=\"showWaybill\" (clickOutside)=\"closeWaybill($event)\">\n            <dlv-mat-waybill-search [placeHolder]=\"searchPlaceholder\" [isAutoFocus]=\"waybillAutofocus\"></dlv-mat-waybill-search>\n        </div>\n        <div class=\"service-menu-mob\" [class.showCenter]=\"showCenter\" (clickOutside)=\"closeCenterDropMob($event)\">\n            <dlv-mat-selected-center *ngIf=\"isAllCenter || centerIDArray.length > 1\" [isAllCenter]=\"isAllCenter\" [open]=\"showCenter\"  (onCenterChange)=\"centerChange($event)\"></dlv-mat-selected-center>\n        </div>\n    </div>\n    </div>\n    <div class=\"sm-menu\">\n        <dlv-mat-services-menu-overlay *ngIf=\"checkLength(profile)\" [open]=\"showMenuOverlay\" [profile]=\"profile\" (onError)=\"showError($event)\" (clickOutside)=\"closeOverlay($event)\" ></dlv-mat-services-menu-overlay>\n    </div>\n\n     <div>\n        <dlv-mat-center-modal *ngIf=\"loadModal\" [isAllCenter]=\"isAllCenter\" [open]=\"loadModal\" (onCenterChange)=\"centerChange($event)\"></dlv-mat-center-modal>\n    </div>\n  `,\n  styles: [`\n    .disabled{pointer-events:none;opacity:0.5}[disabled='true']{pointer-events:none;opacity:0.5}[hidden],.hide{display:none !important}.show{display:block !important}.dlv-icon{color:#BEC0C1 !important;transition:0.3s linear}.dlv-icon:hover{color:#262727 !important}.dlv-icon:active{color:#EF4136 !important}.service-menu-section{width:100%;height:40px}.service-menu-section .child-section{text-align:left;display:table}.service-menu-section .open{color:#F0503C}.service-menu-section.invert{color:#fff}.service-menu-section.invert .open{color:#fff}.service-menu-section.invert .line-spinner{border:2px solid #fff;border-top:2px solid rgba(255,0,0,0)}.service-menu-section .service-menu{text-align:center;margin:0px 20px;width:40px}.service-menu-section .service-menu span.material-icons{color:#b5b5b5}.service-menu-section .image{float:left}.service-menu-section .img-wrapper{height:30px;width:30px}.service-menu-section .waybill-search{position:relative}.service-menu-section .selected-center{min-width:200px;text-align:left;position:relative;background:rgba(0,0,0,0.06);border-radius:3px;margin:6px 15px}.service-menu-section .selected-center .centerName-cont{float:left}.service-menu-section .selected-center .name{float:left;font-family:OpenSans-Semibold;font-weight:600;font-size:13px;color:#505252;margin-left:16px}.service-menu-section .selected-center .centerName{margin:0}.service-menu-section .selected-center .centerName .select-dropdown{cursor:pointer;position:absolute;right:7px;top:7px;color:#929696}.service-menu-section .selected-center .select-drop-down{position:absolute;left:0;width:100%}.service-menu-section .selected-center .icon-pdown{font-size:.8em}.service-menu-section .selected-center p{line-height:14px}.service-menu-section .selected-center .line-spinner{position:absolute;left:50%;top:30%;transform:translate(-50%, -50%)}.service-menu-section .service-menu-overlay{line-height:14px}.service-menu-section .service-menu-overlay span{cursor:pointer}.service-menu-section .service-menu-overlay .icon-pdown{font-size:.8em;display:inline-block;transition:all 0.3s}.service-menu-section .service-menu-overlay .serviceBtn{cursor:pointer;margin-left:10px}.service-menu-section .service-menu-overlay.open{position:relative}.service-menu-section .service-menu-overlay.open .icon-pdown{font-size:.8em;-ms-transform:rotate(-180deg);-webkit-transform:rotate(-180deg);transform:rotate(-180deg)}.service-menu-section .service-menu-overlay.open .serviceBtn{font-weight:inherit;color:#ef4136 !important}.service-menu-section .service-menu-overlay.open::after{width:0;height:0;border-style:solid;border-width:0 12px 12px 12px;border-color:transparent transparent #fafafa transparent;content:'';bottom:-24px;left:8px;position:absolute;z-index:9999}.service-menu-section .service-menu-overlay span.line-spinner{margin:18px}.service-menu-section .service-menu-header{background:#2f3748;width:100%;height:50px;color:#fff}.service-menu-section .service-menu-inner{display:flex;justify-content:space-around;width:100%;margin:0px 10px}.service-menu-header{background:#2f3748;width:100%;height:50px;color:#fff}.cursor-pointer{cursor:pointer}.line-spinner{border:2px solid #000;border-top:2px solid rgba(255,0,0,0);border-radius:50%;width:10px;height:10px;-webkit-animation:spin 2s linear infinite;animation:spin 1s linear infinite;display:-webkit-box;vertical-align:middle}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}p{margin:12px 0}.header__notifications{display:flex;justify-content:space-between;margin:0px auto;padding-top:3px}.header__notifications i{flex:1;text-align:center;margin:12px}.mat-icon-button[aria-expanded=\"true\"],mat-icon.dlv-icon.mat-icon[aria-expanded=\"true\"]{color:#ef4136 !important}.waybill-menu-mob,.service-menu-mob{display:none}.showWaybill,.showCenter{display:block !important}.mob-dropdown{width:calc(100% - 16px);position:absolute;left:0;z-index:-1;margin-top:47px;box-shadow:2px 2px 4px rgba(0,0,0,0.07)}button.mat-icon-button.active{color:#ef4136 !important}span.line-spinner.mob-center{margin:13px}@media screen and (max-width: 640px){.service-menu-section{height:auto;margin:0 !important;padding:5px 10px}.service-menu-section .service-menu-inner{display:block}.service-menu-section .service-menu-inner .service-menu{text-align:center;width:100%}.service-menu-section .service-menu-inner .waybill-search{position:relative;width:100%}.service-menu-section .service-menu-inner .selected-center{min-width:240px;width:100%;text-align:center;position:relative}.service-menu-section .service-menu-inner .child-section{display:block;text-align:left}.service-menu-section .service-menu-inner .child-section .label{padding-left:0}}@media screen and (min-width: 1200px){.service-menu-section .waybill-search,.service-menu-section .selected-center{width:340px}.service-menu-mobile,.menu-dropdown,.sm-menu,.sm-ask-center,.mob-dropdown{display:none !important}}@media screen and (max-width: 1200px){.service-menu-mobile,.menu-dropdown,.sm-menu,.sm-ask-center,.mob-dropdown{display:none !important}}@media screen and (max-width: 992px){.service-menu-mobile,.menu-dropdown,.sm-menu,.sm-ask-center,.mob-dropdown{display:none !important}.service-menu-section .service-menu{margin:0px 10px;width:100%}.service-menu-section .name{overflow:hidden;width:110px;text-overflow:ellipsis;display:inline-block;height:1.2em;white-space:nowrap}}@media screen and (max-width: 768px){.service-menu-section .service-menu-inner{display:none !important}/deep/.waybill-menu{max-width:100vw !important;width:100vw !important;margin-top:7px}button.mat-icon-button[aria-expanded=\"true\"]{color:#ef4136}.menu-dropdown.show,.sm-menu,.sm-ask-center,.mob-dropdown{display:block !important}.service-menu-mobile{display:block !important;float:right;position:absolute;right:20px}.service-menu-mobile .sm-icons{display:inline-flex}.service-menu-mobile .sm-icons li{list-style:none}.service-menu-mobile .sm-icons li mat-icon.active{color:#ef4136}.service-menu-mobile .sm-icons li i{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px !important;margin:0 auto;text-align:center}.menu-dropdown{position:absolute;width:calc(100% - 20px);left:0;top:60px;background:#fff}.menu-dropdown .sm-waybill{box-shadow:2px 2px 4px #00000012;padding:2px;display:none;margin:-2px}.menu-dropdown .sm-center{display:none}.arrowBroder{display:none}}\n  `]\n})\nexport class DlvMatServicesMenuComponent implements OnInit, DoCheck {\n\n  @Input() centerList: Array < any > ;\n  @Input() styles: string;\n  @Input() menuTitle: string;\n  @Input() searchPlaceholder: string;\n  @Output() onCenterChange: EventEmitter < any > = new EventEmitter < any > ();\n  @Output() onCenterDropdownOpen: EventEmitter < boolean > = new EventEmitter < any > ();\n  @Output() onWaybillDropdownOpen: EventEmitter < boolean > = new EventEmitter < any > ();\n\n  private showOverlay = false;\n  private isLoading = true;\n  public loadModal = false;\n  public profile: object = {};\n  private openCenters = false;\n  private centerLoader = false;\n  private isServiceLoader = false;\n  public errors: Array < any > = [];\n  private errMsg: string;\n  public options: menuConfiguration;\n  private centerIDArray;\n  private centerNameArray;\n  private centersNameArray;\n  private centerId;\n  private centerName;\n  private isCenterList = false;\n  private isCenterNotInList = false;\n  private env;\n  private isAllCenter = false;\n\n  public showMenuOverlay = false;\n  public showMoreOptions = false;\n  private mobileOverlay = false;\n\n  public showWaybill = false;\n  public showCenter = false;\n\n  public tempOpenWaybill;\n  public tempOpenCenter;\n\n  public isMobServicesHidden = false;\n  public waybillAutofocus: boolean\n\n\n  constructor(\n    private cookies: CookiesService,\n    private authService: AuthService,\n    private menuService: MatMenuService,\n    private permService: PermissionService,\n    private centerService: MatCenterService\n  ) {\n    this.options = menuService.getOptions();\n    this.env = this.menuService.getOptions()['environment'];\n    this.searchPlaceholder = this.searchPlaceholder ? this.searchPlaceholder : 'Search Waybill/Order Number'\n  }\n\n\n  ngOnInit() {\n    this.getUserInfo();\n    this.permService.getHQPermission().subscribe((res) => {\n      if (res && res['superuser']) {\n        this.isMobServicesHidden = res['superuser'];\n      }\n    })\n  }\n\n  ngDoCheck() {\n    if (this.centerService.getCenterIds()) {\n      this.centerIDArray = this.centerService.getCenterIds();\n    } else {\n      this.centerIDArray = [];\n    }\n\n    if (this.centerService.getSelectedCenter() && this.isCenterList) {\n      if (this.isCenterNotInList && !this.centerService.isSelectCenter()) {\n        this.centerName = '';\n      } else {\n\n        this.centerName = this.centerService.getSelectedCenter()['center_name'] || '';\n        // console.log(\"centerName\",this.centerName);\n      }\n      this.centerLoader = true;\n    }\n\n    this.checkServiceMenu();\n  }\n\n\n  /**\n   * @name checkServiceMenu\n   * @description this is to load menu component as per based on permission to user\n   */\n\n  private checkServiceMenu() {\n    this.permService.isServiceMenu()\n      .toPromise().then(res => {\n        // if there is result then loader will not show to user\n        if (res && res.length) {\n          this.isServiceLoader = false;\n        } else { // if there is no result then loader show to user\n          this.isServiceLoader = true;\n        }\n      }).catch(err => {\n        this.isServiceLoader = true;\n      })\n  }\n\n  /**\n   * @name getUserInfo\n   * @scope private\n   *\n   * @description\n   * To get logged in information\n   *\n   */\n\n  private getUserInfo() {\n    this.authService.getUserProfile({\n        server: true\n      })\n      .subscribe(res => {\n        this.profile = res;\n        this.fetchCenter(this.centerList, this.profile);\n\n      }, error => {\n        this.showError('Not able to fetch User details.');\n      })\n\n  }\n\n  /**\n   * @name fetchCenter\n   * @param centerList : storing the list of centers based on logged in user\n   * @param userinfo : storing the profile of user\n   */\n\n  private fetchCenter(centerList, userinfo) {\n    if (userinfo && userinfo.is_active && userinfo.is_staff) {\n      this.menuService.setActiveStaff()\n    }\n\n    // if user already have center list then auto complete directive will not be accessable\n    if (centerList && centerList.length) {\n      this.isAllCenter = false;\n      this.getCenters(centerList);\n\n    } else if ( // checking user have all access of centers\n      userinfo &&\n      userinfo.user_data &&\n      (userinfo.user_data.all_center_access || userinfo.read_all_facility || userinfo.write_all_facility)\n    ) {\n      this.isAllCenter = true;\n\n      // here user getting center code on based of stored center code\n      const centerCode = this.cookies.get(`center_code`) || false;\n\n      if (centerCode) {\n        this.getCenters(centerCode);\n      } else {\n        this.isCenterList = true;\n        this.loadModal = true;\n        this.centerLoader = true;\n        // this.centerName = '';\n        this.checkCenter();\n      }\n\n    } else if ( // this is checking if user's data, user facility id and it's length then it stored center id\n      userinfo &&\n      userinfo.user_data &&\n      userinfo.user_data.facility_id &&\n      userinfo.user_data.facility_id.length\n    ) {\n      const centerIds = userinfo.user_data.facility_id;\n      this.getCenters(centerIds);\n    } else {\n      this.showError('Not able to fetch Centers Tagged to the User.');\n      this.centerLoader = true;\n    }\n\n  }\n\n  /**\n   * @name getCenters\n   * @description this method is to get names of center based on center ID\n   * @param centerIds : Containing center ids\n   */\n  private getCenters(centerIds) {\n    if (this.options['showCenter']) {\n      this.centerService.setCenterIds(centerIds);\n      this.centerService.getCenter(centerIds)\n        .subscribe(response => {\n          /**\n           * this is checking if there is any center id stored then it will store in an array and its length\n           * and return center name through getCenterName()\n           */\n          if (response && response['result'] && response['result']['data'] && response['result']['data'].length) {\n            response = this.centerService.modifyCenterDataFaas(centerIds, response);\n            this.centerService.setCentersData(centerIds, response);\n            let result = response['search_results'];\n            this.centerService.setCenterNameArray(result);\n\n            const name = this.centerService.getCenterName();\n            this.centerId = this.centerService.getCenterId();\n            const index = centerIds.indexOf(this.centerId);\n\n            /**\n             * Here we checking if there is any data in array, if yes then it call setcenterCookie()\n             * and return center name and center code, then shows it's status pre because it is already stored in cookie\n             */\n\n            if (index >= 0) {\n              this.centerName = result[index];\n              const center = {\n                center_code: this.centerId,\n                center_name: this.centerName\n              }\n              this.centerService.setcentercookie(center);\n              this.centerService.setSelectedCenter(this.centerName, this.centerId, 'pre');\n            } else { // If no data in array, then it calls delete cookie and set center on basis of user search\n              this.centerService.delCenterCookie();\n              this.centerService.setSelectedCenter();\n            }\n            this.isCenterList = true;\n            this.checkCenter(centerIds);\n\n            // This is loading center model box\n            if (this.centerService.getCheckModal()) {\n              this.centerLoader = true;\n            }\n          }\n        }, error => {\n          this.showError('Not able to fetch Center name.');\n          this.centerName = this.centerService.getCenterName();\n          this.centerId = this.centerService.getCenterId();\n          this.isCenterList = true;\n          this.centerLoader = true;\n          this.checkCenter(centerIds);\n        })\n    }\n  }\n\n  /**\n   * @name checkCenter\n   * @description this method is using to show center search box,\n   * @param centerList :centerList is storing center from cookies\n   */\n\n  public checkCenter(centerList ? ) {\n    if (!this.centerId) {\n      this.loadModal = true;\n      this.isCenterNotInList = true;\n    } else {\n      const centerIndex = centerList.indexOf(this.centerId);\n      if (centerIndex === -1 || centerIndex === null) {\n        this.isCenterNotInList = true;\n        this.centerName = '';\n        this.loadModal = true;\n      } else {\n        this.centerLoader = true;\n        this.loadModal = false;\n      }\n    }\n  }\n\n  /**\n   * @name openOverlay\n   * @description this method is for show overlay on service menu if service menu is there\n   */\n  private openOverlay() {\n    this.showOverlay = !this.showOverlay;\n  }\n\n  /**\n   * @name checkLength\n   * @description This method holds the overlay component loading till the api response complete\n   * @param obj : It is holding the user profile object\n   *\n   */\n  public checkLength(obj) {\n    return Object.keys(obj).length;\n  }\n\n  /**\n   * @name openSearchDropdown\n   * @description this method to show center serch dropdown\n   */\n  private openSearchDropdown() {\n    this.openCenters = !this.openCenters;\n    this.onCenterDropdownOpen.emit(this.openCenters);\n  }\n\n  /**\n   * @name openSearchDropdown\n   * @description this method to close center serch dropdown\n   */\n  private closeDropdown() {\n    debugger;\n    this.openSearchDropdown();\n  }\n\n  /**\n   * @name centerChange\n   * @description this method is called when user select another center from search box\n   * @param center : It is containing center code and name\n   */\n  public centerChange(center) {\n    this.onCenterChange.emit(center);\n  }\n\n  /**\n   * @name closeServiceMenu\n   * @description this method works when we click outside the menu overlay through click-outside directive.\n   * @param isInside : It is containing menu overlay\n   */\n  public closeServiceMenu(isInside) {\n    if (!isInside) {\n      this.showOverlay = false;\n    }\n\n  }\n\n  /**\n   * @name closeCenterDrop\n   * @description this method works when we click outside the search dropdown through click-outside directive.\n   * @param isInside : It is containing center search dropdown\n   */\n  public closeCenterDrop(isInside) {\n    if (!isInside) {\n      this.openCenters = false;\n    }\n  }\n  /**\n   * @name showError\n   * @description this method is using to show all errors through error directive\n   * @param errorMsg : it is containing error msg\n   */\n  public showError(errorMsg) {\n    if (errorMsg) {\n      this.errors.push(errorMsg)\n    } else {\n      this.errors.push('Something Error.');\n    }\n\n  }\n\n  /**\n   * @name moreOptions\n   * @description this method is using the mobile menu click\n   * @param : none\n   */\n  moreOptions() {\n    this.showMoreOptions = !this.showMoreOptions;\n  }\n\n\n  /**\n   * @name openMobOverlay\n   * @description this method is used to open the overlay in mobile\n   * @param : none\n   */\n\n  openMobOverlay() {\n    this.mobileOverlay = true;\n    this.showMoreOptions = true;\n  }\n\n  /**\n   * @name closeOverlay\n   * @description this method is used to close overlay, | clickoutSide directive callback\n   * @param evt: An event will trigger to check wheather inside or outside click\n   */\n  closeOverlay(evt) {\n    if (this.showMoreOptions && this.mobileOverlay && !evt) {\n      this.showMenuOverlay = true;\n    } else if (evt) {\n      this.showMenuOverlay = true\n    } else {\n      this.showMenuOverlay = false;\n    }\n\n    this.showMoreOptions = false;\n    this.mobileOverlay = false;\n  }\n\n\n  /**\n   * Mobile waybill search toggle functionality;\n   */\n  public searchWaybill() {\n    this.showWaybill = !this.showWaybill;\n    this.tempOpenWaybill = true;\n    this.showCenter = false;\n    this.waybillAutofocus = true;\n  }\n\n  public closeWaybill(isInside) {\n\n    if (!isInside && !this.tempOpenWaybill) {\n      this.showWaybill = false;\n      this.waybillAutofocus = false;\n    }\n    this.tempOpenWaybill = false;\n  }\n\n  /**\n   * center search toggle functionality;\n   */\n  public searchCenterMob() {\n    this.showCenter = !this.showCenter;\n    this.tempOpenCenter = true;\n    this.showWaybill = false;\n  }\n  public closeCenterDropMob(isInside) {\n    if (!isInside && !this.tempOpenCenter) {\n      this.showCenter = false;\n    }\n    this.tempOpenCenter = false;\n  }\n\n  canWeHideInMobile(event) {\n    this.isMobServicesHidden = event;\n  }\n}\n"]}